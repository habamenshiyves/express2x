<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Espace Infirmier - MediConnect</title>
  <link rel="stylesheet" href="css/nurse.css">
</head>
<body>
<!-- Header avec navigation -->
<header class="main-header">
  <div class="header-content">
    <div class="header-left">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
        </svg>
        <span>MediConnect</span>
      </div>
      <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="vitals">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
          </svg>
          Signes Vitaux
        </button>
        <button class="nav-tab" data-tab="patients">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          Patients
        </button>
        <button class="nav-tab" data-tab="history">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
          Historique
        </button>
      </nav>
    </div>
    <div class="header-right">
      <div class="user-info">
        <div class="user-avatar">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
        <div class="user-details">
          <span class="user-name">Marie Dupont</span>
          <span class="user-role">Infirmière</span>
        </div>
      </div>
      <button id="logout-button" class="btn-icon" title="Déconnexion">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
      </button>
    </div>
  </div>
</header>

<main class="main-content">
  <!-- Section Signes Vitaux -->
  <section id="vitals-section" class="content-section active">
    <div class="section-header">
      <h2>Enregistrer les Signes Vitaux</h2>
      <p class="section-description">Saisissez les données vitales du patient</p>
    </div>

    <form id="vitals-form" class="vitals-form">
      <!-- Sélection du patient avec recherche -->
      <div class="patient-selector">
        <label for="patient-search">Patient</label>
        <div class="search-container">
          <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input
                  type="text"
                  id="patient-search"
                  placeholder="Rechercher un patient..."
                  autocomplete="off"
          >
          <select id="patient-select" name="patient_id" required style="display:none;">
            <option value="">Sélectionner un patient...</option>
          </select>
        </div>
        <div id="patient-suggestions" class="patient-suggestions"></div>
      </div>

      <!-- Grille des signes vitaux -->
      <div class="vitals-grid">
        <div class="vital-card">
          <div class="vital-icon temperature">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>
            </svg>
          </div>
          <label for="temperature">Température</label>
          <div class="input-group">
            <input
                    type="number"
                    step="0.1"
                    id="temperature"
                    name="temperature"
                    placeholder="37.2"
                    min="35"
                    max="42"
                    required
            >
            <span class="unit">°C</span>
          </div>
        </div>

        <div class="vital-card">
          <div class="vital-icon heart-rate">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7z"></path>
            </svg>
          </div>
          <label for="heart_rate">Fréquence Cardiaque</label>
          <div class="input-group">
            <input
                    type="number"
                    id="heart_rate"
                    name="heart_rate"
                    placeholder="75"
                    min="40"
                    max="200"
                    required
            >
            <span class="unit">bpm</span>
          </div>
        </div>

        <div class="vital-card">
          <div class="vital-icon blood-pressure">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"></path>
            </svg>
          </div>
          <label for="blood_pressure">Tension Artérielle</label>
          <div class="input-group">
            <input
                    type="text"
                    id="blood_pressure"
                    name="blood_pressure"
                    placeholder="120/80"
                    pattern="\d{2,3}/\d{2,3}"
                    required
            >
            <span class="unit">mmHg</span>
          </div>
        </div>

        <div class="vital-card">
          <div class="vital-icon weight">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="5" r="3"></circle>
              <line x1="12" y1="1" x2="12" y2="8"></line>
              <path d="M5.64 16.36a9 9 0 1 1 12.72 0"></path>
              <line x1="12" y1="13" x2="12" y2="17"></line>
            </svg>
          </div>
          <label for="weight">Poids</label>
          <div class="input-group">
            <input
                    type="number"
                    step="0.1"
                    id="weight"
                    name="weight"
                    placeholder="70.5"
                    min="1"
                    max="300"
                    required
            >
            <span class="unit">kg</span>
          </div>
        </div>

        <div class="vital-card">
          <div class="vital-icon oxygen">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <circle cx="12" cy="12" r="6"></circle>
              <circle cx="12" cy="12" r="2"></circle>
            </svg>
          </div>
          <label for="oxygen_saturation">Saturation O₂</label>
          <div class="input-group">
            <input
                    type="number"
                    id="oxygen_saturation"
                    name="oxygen_saturation"
                    placeholder="98"
                    min="70"
                    max="100"
                    required
            >
            <span class="unit">%</span>
          </div>
        </div>

        <div class="vital-card">
          <div class="vital-icon respiratory">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
              <path d="M6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 14.5v-10A2.5 2.5 0 0 1 6.5 2z"></path>
            </svg>
          </div>
          <label for="respiratory_rate">Fréquence Respiratoire</label>
          <div class="input-group">
            <input
                    type="number"
                    id="respiratory_rate"
                    name="respiratory_rate"
                    placeholder="16"
                    min="8"
                    max="40"
                    required
            >
            <span class="unit">rpm</span>
          </div>
        </div>
      </div>

      <!-- Notes additionnelles -->
      <div class="form-group">
        <label for="notes">Notes et observations</label>
        <textarea
                id="notes"
                name="notes"
                rows="3"
                placeholder="Ajoutez des observations supplémentaires si nécessaire..."
        ></textarea>
      </div>

      <!-- Actions -->
      <div class="form-actions">
        <button type="button" class="btn-secondary" id="reset-form">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="1 4 1 10 7 10"></polyline>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
          </svg>
          Réinitialiser
        </button>
        <button type="submit" class="btn-primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
            <polyline points="17 21 17 13 7 13 7 21"></polyline>
            <polyline points="7 3 7 8 15 8"></polyline>
          </svg>
          Enregistrer
        </button>
      </div>
    </form>
  </section>

  <!-- Section Liste des Patients -->
  <section id="patients-section" class="content-section">
    <div class="section-header">
      <h2>Liste des Patients</h2>
      <div class="section-actions">
        <div class="search-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input type="text" id="search-patients" placeholder="Rechercher...">
        </div>
        <button class="btn-secondary" id="refresh-patients">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="23 4 23 10 17 10"></polyline>
            <polyline points="1 20 1 14 7 14"></polyline>
            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
          </svg>
          Actualiser
        </button>
      </div>
    </div>

    <div id="patients-list-container" class="patients-container">
      <div class="loading">
        <div class="spinner"></div>
        <p>Chargement des patients...</p>
      </div>
    </div>
  </section>

  <!-- Section Historique -->
  <section id="history-section" class="content-section">
    <div class="section-header">
      <h2>Historique des Mesures</h2>
      <div class="filter-controls">
        <select id="filter-period" class="filter-select">
          <option value="today">Aujourd'hui</option>
          <option value="week">Cette semaine</option>
          <option value="month">Ce mois</option>
          <option value="all">Tout</option>
        </select>
      </div>
    </div>

    <div id="history-container" class="history-container">
      <div class="loading">
        <div class="spinner"></div>
        <p>Chargement de l'historique...</p>
      </div>
    </div>
  </section>
</main>

<!-- Toast notifications -->
<div id="toast-container" class="toast-container"></div>

<script src="./js/nurse.js"></script>
</body>
</html>